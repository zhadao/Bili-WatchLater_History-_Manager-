# Bilibili 稍后再看 & 历史记录增强助手 (Bili-WatchLater-Ex)

> **为 B 站重度用户打造的“注意力管理”与“观看体验优化”工具。**  
> 助你逃离“稍后再看”的封闭播放页，并在信息过载的时代，通过 AI 词频分析快速复盘你的近期关注点。

![License](https://img.shields.io/badge/license-MIT-blue.svg) ![Version](https://img.shields.io/badge/version-v1.5.0-green.svg)

## 📖 开发初衷

作为一名 B 站网页版的重度使用者，我发现现有的 AI 浏览器（截至 2026 年）在处理 B 站“稍后再看”列表时存在功能盲区，无法进行有效的总结。同时，B 站原生的“稍后再看”播放器存在诸多不便：**不方便查看完整评论区、难以切换分 P、互动（三连）体验割裂**。

开发这款插件的初衷是为了解决两个核心痛点：
1.  **体验优化**：将“稍后再看”的视频快速转到普通页面播放，找回完整的 B 站互动体验。
2.  **自我量化**：通过分析“稍后再看”堆积的视频和“历史记录”，**复盘自己的注意力分配**，快速检索有价值的内容标签。

---

## ✨ 核心功能

### 1. 🚀 稍后再看 -> 转普通页播放
拒绝封闭的列表播放模式。在 B 站“稍后再看”播放页面，右下角会自动出现悬浮按钮。
- **一键跳转**：点击即可在新窗口打开当前视频的**普通播放页**。
- **体验升级**：在普通页中，你可以自由查看热评、发送弹幕、点赞投币，不再受限于列表播放器的简陋界面。

### 2. 📊 注意力热点分析 (AI 词频统计)
在“稍后再看”列表页或“历史记录”页，一键生成你的**观看画像**。
- **高频词云**：基于 AI 分词算法，提取视频标题中的核心关键词（Top 30），直观展示你最近在关注什么（是 AI 技术、游戏娱乐还是硬核教程？）。
- **大小写智能切换**：
    - **开启区分**：精确区分 `ai` 和 `AI`。
    - **关闭区分**：智能合并 `Google` 和 `google`，统计更准确。
- **双栏交互布局**：
    - **左侧**：关键词控制台。
    - **右侧**：对应的视频列表。

### 3. 🔍 交互式筛选与跳转
不仅仅是统计，更是高效的检索工具。
- **双击筛选**：在左侧榜单中**双击**任意关键词，右侧列表将自动过滤，只显示包含该词的视频（并高亮关键词）。
- **一键恢复**：再次双击该关键词，恢复显示全部列表。
- **快速直达**：右侧清单中的任意标题均可点击，直接跳转播放，无需去海量历史记录里翻找。

### 4. ⚙️ 强大的自定义词库系统
为了防止分词错误和满足个性化统计需求，插件提供了两套配置逻辑：

#### A. 📖 词库配置 (Dictionary) —— "教插件怎么分词"
*入口：分析面板底部的【📖 词库】按钮*
- **功能**：设置**专有名词**。
- **作用**：防止特定短语被拆散或错误识别。
- **场景**：例如输入 `DeepSeek`、`Vue3`，插件在分析时就会把它们视为一个整体，而不会拆分成 `Deep` 和 `Seek`。

#### B. ⚙️ 自定义配置 (Config) —— "定制我的关注榜"
*入口：分析面板顶部的【⚙️ 自定义配置】按钮*
提供两个维度的控制：
1.  **自定义短语 (追踪列表)**：
    - 你特别关心的词（如 `AI`、`工作`）。
    - 这些词会被单独提取出来，在左侧面板下方的**"自定义短语"**区域独立展示统计次数，不受高频榜单排名影响。
2.  **屏蔽词 (黑名单)**：
    - 过滤掉无意义的干扰词（如 `我们`、`视频`、`99`、`II` 等）。
    - 设置后，这些词将彻底从分析结果中消失。
3.  **内置屏蔽词库 (stopwords.txt)**：
    - 插件预置的屏蔽词列表，包含常见停用词、数字、网络流行语等。
    - 支持多种格式：每行一个词或每行多个词（**必须用英文逗号分隔**）。
    - 每行最多15个屏蔽词，超出部分将被忽略。
    - **在线编辑**：在配置面板中点击"📝 编辑内置屏蔽词库"按钮，可直接编辑屏蔽词内容并保存。
    - 实时更新：编辑后点击保存，修改将立即生效，无需重新加载插件。

### 5. 🌓 亮色/暗色模式切换
为不同使用场景和偏好提供舒适的视觉体验。
- **一键切换**：在分析面板顶部中央，点击主题切换滑块即可在亮色和暗色模式间切换。
- **自动保存**：你的主题偏好会自动保存，下次打开时会自动应用。
- **智能适配**：
    - **亮色模式**：清爽的浅色背景（#e0eefa），适合白天使用。
    - **暗色模式**：护眼的深色背景（#1e3346），适合夜间使用。
- **全局生效**：所有弹窗、按钮、文本颜色都会根据当前主题自动调整，保持视觉一致性。

---

## 🛠️ 安装指南

由于本项目尚未上架 Chrome 应用商店，请通过"开发者模式"安装：

1.  下载本项目源码（ZIP 包）并解压。
2.  在 Chrome 浏览器地址栏输入 `chrome://extensions/`。
3.  开启右上角的 **"开发者模式"** 开关。
4.  点击左上角的 **"加载已解压的扩展程序"**。
5.  选择解压后的文件夹即可。

---

## 💡 使用小贴士

*   **数据隐私**：所有分析均在本地进行，配置数据存储于你的浏览器本地（LocalStorage），不会上传至任何服务器。
*   **持久化**：你的屏蔽词、自定义词库和主题偏好会自动保存，刷新页面后依然有效。

---

> 如果这个插件帮助你更好地管理了 B 站观看习惯，欢迎 Star 支持一下！🌟
