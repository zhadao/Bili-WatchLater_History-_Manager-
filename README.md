# Bilibili 稍后再看 & 历史记录增强助手 (Bili-WatchLater-Ex)

> 一个轻量级的 Chrome 浏览器插件，助你逃离 B 站"稍后再看"的封闭播放页，方便观看的同时帮助分析观看习惯。提供强大的观看历史与稍后再看数据分析能力。

![License](https://img.shields.io/badge/license-MIT-blue.svg) ![Version](https://img.shields.io/badge/version-v1.3.0-green.svg)

## ✨ 核心功能

### 1. 🚀 稍后再看 -> 转普通页播放
在 B 站"稍后再看"播放页面，右下角会自动出现悬浮按钮。
- **一键跳转**：点击即可在新窗口打开当前视频的**普通播放页**。
- **为什么要用它？** 普通播放页支持查看完整评论区、点赞投币更方便、且便于分享视频链接。

### 2. 📊 稍后再看列表分析
在 B 站"稍后再看"列表管理页面，提供一键分析功能。
- **词频统计**：AI 分词算法自动统计你堆积的视频中，哪些关键词出现频率最高（Top 30）。
- **自定义词库**：支持配置屏蔽词和自定义短语，精准控制分析结果。
- **完整清单**：一览展示所有待看视频标题。
- **快速直达**：清单中的标题均可点击，直接跳转至该视频的普通播放页。

### 3. 🕒 历史记录深度回顾
在 B 站"历史记录"页面，分析你近期的观看习惯。
- **近期热点**：统计最近 5 天观看记录的高频关键词。
- **自定义词库**：支持配置屏蔽词和自定义短语，精准控制分析结果。
- **回溯列表**：列出近期看过的所有视频标题。
- **一键重温**：点击标题即可再次跳转观看。

### 4. 🎨 双栏并行布局
分析结果采用左右分栏设计，信息展示更高效。
- **左侧栏（40%）**：高频关键词控制台 + 自定义配置入口。
- **右侧栏（60%）**：视频列表，支持滚动查看。
- **展开更多**：默认显示 Top 30 关键词，点击展开显示全部。

### 5. ⚙️ 自定义配置
- **屏蔽词**：过滤不想看到的词（如"我们"、"99"、"II"等）。
- **自定义短语**：将特定词组作为一个整体统计（如"明日方舟"、"原神"等）。
- **持久化存储**：配置自动保存到浏览器本地存储，刷新页面后依然有效。
- **自动刷新**：保存配置后自动重新分析数据，实时生效。

---

## 🛠️ 安装指南

由于本项目尚未上架 Chrome 应用商店，你需要通过"开发者模式"安装：

### 1. 下载代码
- 点击本页面右上角的绿色按钮 **Code** -> **Download ZIP**。
- 解压下载的压缩包到任意文件夹。

### 2. 加载插件
- 打开 Chrome/Edge 浏览器，在地址栏输入：`chrome://extensions/`
- 打开右上角的 **"开发者模式" (Developer mode)** 开关。
- 点击左上角的 **"加载已解压的扩展程序" (Load unpacked)**。
- 选择你刚才解压的文件夹。

### 3. 开始使用
- 打开 [Bilibili 稍后再看页面](https://www.bilibili.com/watchlater/#/list) 或 [历史记录页面](https://www.bilibili.com/history)。
- 你会发现右下角多出了一个新的悬浮功能按钮！

---

## 📸 功能截图

*(此处建议上传几张插件运行时的截图，例如右下角的按钮、弹出的模态框等，直观展示效果)*

| 稍后再看跳转 | 词频分析弹窗 |
|:---:|:---:|
| *(请在此处放置截图)* | *(请在此处放置截图)* |

---

## ⚙️ 技术栈

- **Manifest V3**：遵循最新的 Chrome 插件开发标准。
- **Vanilla JS**：无任何第三方重型框架依赖，轻量极速。
- **Intl.Segmenter**：利用浏览器原生 API 进行高性能中文分词。
- **Bilibili API**：基于官方 API 获取精准的用户数据（自动携带 Cookie）。
- **Chrome Storage**：使用 `chrome.storage.local` 持久化用户配置。

---

## 🤝 贡献与反馈

如果你在使用中遇到 Bug，或者有新的功能建议，欢迎提交 [Issue](https://github.com/zhadao/bilibili-watchlater-exporter/issues) 或 Pull Request。

---

## 📜 许可证

本项目基于 [MIT License](LICENSE) 开源。
